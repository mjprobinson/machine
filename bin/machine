#!/usr/bin/bash

help() {
    echo "Utility to set-up and maintain client and server machines"
    echo "Commands: "
    echo "  install: Run installs. If no packages given, ask interactively."
    echo "  update: Run updates. Updates are automatically tracked through install command."
    echo "  help: Show this message"
    echo "Command options:"
    echo "  --dry-run    Don't run install/update commands. Only show what would be run."
}

root_dir=$(dirname $(dirname $(realpath "$0")))
case "$1" in
    install)
        shift
        bash "$root_dir/src/run_installs.sh" "$@"
        ;;
    update)
        shift
        zsh "$root_dir/src/run_updates.sh" "$@"
        ;;
    *)
        help
        ;;
esac
